---
# page 是关键字，不能用
pagination:
  data: sites
  size: 1
  alias: site
title: Login
permalink: "{{ site._meta.lang | slug }}/login/"
invisible: true
scripts: '/login/index.js'
---

<main>
  <section class="as-login-template-wrap">
  </section>
  <form action="{{ settings.api_host }}/auth/me" method="get" class="as-verify-form d-none" data-need-authorization="true" novalidate>
    <input type="hidden" name="need_multipass" class="as-need-multipass-param">
    <input type="hidden" name="return_to" class="as-return-to-param">
    <input type="hidden" name="store" class="as-store-param">
    <input type="hidden" name="lang" value="{{ site._meta.lang | slug }}">
  </form>
</main>

<script type="text/mustache" class="as-login-template">
  <section class="container py-9">
    <div class="container-form">
      <h2 class="fs-3 text-center mb-0">{{ t.customer.login.title }}</h2>
      <form action="{{ settings.api_host }}/auth/login" method="post" class="as-login-form mt-6" novalidate autocomplete="off">
        <div class="form-floating mb-3 as-form-input-wrap form-pristine">
          <input type="text" name="email" class="as-form-input form-control input-pristine" id="floatingInput" placeholder="{{ t.customer.login.email }}" required
          data-pristine-required-message="{{ t.customer.error.empty_error | replace: "label", t.customer.login.email | downcase | capitalize }}">
          <label for="floatingInput">{{ t.customer.login.email }}</label>
        </div>
        <div class="form-floating form-pristine as-pwd-wrap">
          <input type="password" name="password" class="form-control input-pristine as-pwd-input" id="floatingPassword" placeholder="{{ t.customer.login.password }}" required
          data-pristine-required-message="{{ t.customer.error.empty_error | replace: "label", t.customer.login.password | downcase | capitalize }}">
          <div class="as-visible-control visible-control content-invisible">
            <div class="icon-eye-off">
              <svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g opacity=".297"><path d="m0 0h24v24h-24z" fill="none"/><g fill="#161317"><path d="m32.75 16.55c-1.05-1.3-4.95-5.55-10.65-5.55a11.7 11.7 0 0 0 -1.9.15l1.8 1.85h.1c4.4 0 7.65 3.1 8.85 4.5a16.85 16.85 0 0 1 -2.3 2.15l1.4 1.4a15.05 15.05 0 0 0 2.7-2.6 1.5 1.5 0 0 0 0-1.9z" transform="translate(-10.1 -5.5)"/><path d="m15.711 16.55a2.9 2.9 0 0 0 .3-1.3 3 3 0 0 0 -3-3 2.9 2.9 0 0 0 -1.3.3l-5.85-5.85a1 1 0 0 0 -1.4 1.4l2.35 2.4a16.05 16.05 0 0 0 -4.45 3.8 1.5 1.5 0 0 0 0 1.9c1.05 1.3 4.95 5.55 10.65 5.55a11.5 11.5 0 0 0 4.25-.8l2.9 2.85a1 1 0 1 0 1.4-1.4zm-2.7 3.2c-4.4 0-7.65-3.1-8.85-4.5a14.85 14.85 0 0 1 4.15-3.3l2 2a2.9 2.9 0 0 0 -.3 1.3 3 3 0 0 0 3 3 2.9 2.9 0 0 0 1.3-.3l1.4 1.4a9.55 9.55 0 0 1 -2.7.4z" transform="translate(-1.011 -3.25)"/></g></g></svg>
            </div>
            <div class="icon-eye">
              <svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g opacity=".3"><path d="m0 0h24v24h-24z" fill="none"/><g fill="#161317"><path d="m23.781 16.581c-1.056-1.307-4.981-5.581-10.709-5.581s-9.653 4.274-10.709 5.581a1.508 1.508 0 0 0 0 1.911c1.056 1.308 4.977 5.58 10.709 5.58s9.653-4.274 10.709-5.581a1.508 1.508 0 0 0 0-1.91zm-10.709 5.48c-4.424 0-7.692-3.117-8.9-4.525 1.207-1.408 4.475-4.525 8.9-4.525s7.692 3.117 8.9 4.525c-1.208 1.408-4.472 4.525-8.9 4.525z" transform="translate(-1.072 -5.536)"/><circle cx="12" cy="12" r="3"/></g></g></svg>
            </div>
          </div>
          <label for="floatingPassword">{{ t.customer.login.password }}</label>
        </div>
        <input type="hidden" name="source" class="as-source-param">
        <input type="hidden" name="return_to" class="as-return-to-param">
        <input type="hidden" name="store" class="as-store-param">
        <input type="hidden" name="lang" value="{{ site._meta.lang | slug }}">
        <div class="as-form-error text-danger d-none small mt-2"></div>
        <div class="as-invalid-error d-none">{{ t.customer.error.login_mismatch_error }}</div>
        <div class="as-reset-password-error d-none">{{ t.customer.error.old_system_user_error }}</div>
        <div class="as-other-error d-none">{{ t.customer.error.other_error }}</div>
        <div class="d-grid gap-2 mt-3">
           <a class="btn btn-outline-dark py-2 as-update-link" data-link="{{ settings.api_host }}/auth/redirect/google" href="{{ settings.api_host }}/api/auth/redirect/google">Login with Google</a>
           <a class="btn btn-outline-dark py-2 as-update-link" data-link="{{ settings.api_host }}/api/auth/redirect/facebook" href="{{ settings.api_host }}/api/auth/redirect/facebook">Login with Facebook</a>
         </div>
        <div class="mt-3">
          <p class="mb-0">{{ t.customer.login.privacy_policy | marked | replace: '<p>', '<p class="mb-0">' | replace: '{privacy_policy_url}', site.privacy_policy_url }}</p>
        </div>
        
        <button type="submit" class="as-submit btn btn-primary w-100 mt-4">{{ t.customer.login.login }}</button>
        
      </form>
      <div class="d-flex mt-3 justify-content-center">
        <a class="btn-link text-center w-100 border-end border-1 as-update-link" data-link="{{ site._meta.lang | slug }}/register/" href="/{{ site._meta.lang | slug }}/register/">{{ t.customer.login.create_account }}</a>
        <a class="btn-link text-center w-100 as-update-link" data-link="{{ site._meta.lang | slug }}/forgot-password/" href="/{{ site._meta.lang | slug }}/forgot-password/">{{ t.customer.login.forgot_password }}</a>
      </div>
    </div>
  </section>
</script>